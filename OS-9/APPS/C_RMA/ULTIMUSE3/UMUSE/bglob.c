/* file ~VM640/BGLOB.C  -1B-        begun 4/21/86, 88/8/9, 88/11/17 * 88/12/30 All non-direct-page global vars for Music Score Editor * But *pctN string pointers here are direct page.*/#include "wmuse.h"#include "wwidths.h"#include "titles.h"      /* for title/banner/info screen */#include "tools.h"/******* Non-Direct scalars *//* All fcn ptrs auto'ly inserted here: */#define INGLOB#include "fcnptrs.h"/* Other non-direct scalars */sexy pcfromp, ioff;int  tooly;bool toolson;/* Pick-filter stuff */sexy pickpart;bool pickrest, picknote, pickplus, pickflag, pickupper, picklower, pickmid;/* Globals for KP Editor 98/3 *//* KP Where-ats */Index     lastclik;      /* last score item mouse-clicked */     kpind,         /* = 0 */     kplast,        /* most recent keypad score item visited */     kplastact;     /* ... and worked on too *//* KP Modes */bool     autooct = TRUE,     autopick, /* Auto pick-up (edit and clone modes) *//*   kpview,   /* OK to shift viewscreen on entry */     autoclone,     kpclone;  /* '+' - like mode */char     kpmode='h';    /* h==Horizontal, v==Vertical, b==Bar/Block *//*   kpgoto='k';    /* Keypad last, Mouse last *//* Local KP Statics for inter-fcn commo */char     kpoctch='4',   /* Octave char */     kpnotch='c';   /* Note char */sexy/* "Shy" on MM/1 (?) */     kpdur = 3,     kpdmod, kpitmod,     kpartic = NORMAL,      kvslot,     kpoctave = 4,     kplnotenum = 0;     /* last note no. = 'c', for auto-octave *//* end KP globals *//* For Instant_Events array (NOT "Tables") 93/4/14 */ubyte     *evtarray,     /* pointer to base of mapped-in space */          *evtartop,     /* ptr to last available byte */          *evtarnxt;     /* ptr to next (1st yet unused) byte *//* Structures & Arrays */EVENT     undevent;          /* saves last X'ed-out event */ubyte     levels[NLEVELS] = {/* Volume levels ==> MIDI */          01, 17, 33, 49,     /* ppp, pp, p, mp */          65, 89, 105, 127     /* mf, f, ff, fff */     },     chans[NPARTS + 1];bool     partens[NPARTS + 1],     chanens[16];ubyte     grafxes[GXYSIZE],     /* where events were last drawn */     grafyes[GXYSIZE];short                    /* shuda been ubyte, but has been sexy == short */     instvals[NINSTRS];char     lastgo[12],    /* should need only 8, but safety */     instnams[NINSTRS] [INAMEL],     filename[SFILENAME];/* char titles[TOTLINES] [TLEN + 1]; */NOTE    /* dur, mod; slot, mod; artic */     brush = {3,0, 0,    0,NORMAL}, /* R/W  Menu's current event */     qnote = {3,0, 0,    0,NORMAL}, /* R/O */     qrest = {3,0, REST, 0,NORMAL}, /* R/O */     znote;                         /* R/O and freebie zero init */EVENT     zevent;                        /* R/O and freebie zinit */ /* Inclusion tuples.*  All Widths must be multiples of 8 for BYTBLT,*    so are given here in Cols, not pixels.*  Changes must coordinate with umuse.h INCTYPEs*  NULL images are done by specialized routines.*/ubyte     bcluzis[] = { /* showall_grafwid */  BARLWID,     /* 0  |    */  RPTWID,      /* 1 :||   */  DUBARWID,    /* 2 ||    */  RPTWID,      /* 3 ||:   */  RPTWID+1,    /* 4 :||:  Now SPARE */  NENDWID,     /* 5 ||--N */  RPTWID,      /* 6 |!    FINE. *//* Non-BarLine Inclusions */  3,           /* 7 LABEL, gets 1 more from its barline */  SIGNWID,     /* 8 SIGN */  CODAWID,     /* 9 CODA */  TSWID,       /* 10 TIMESIG */  KSWID,       /* 11 KEYSIG */  0,           /* 12 CALL *//* Markers */  MARKWID,     /* 13 LMARK     [ */  MARKWID,     /* 14 RMARK     ] */  MARKWID,     /* 15 TMARK     ^ */  MARKWID,     /* 16 DELETEX   X   Not an inclusion, but for Menu *//* DCs, DSes */  DCWID,       /* 17 DACAPO    D.C. */  DCWID,       /* 18 DCSENZAREP D.C.S.R. */  DCWID,       /* 19 DALSEGNO  D.S */  DCWID,       /* 20 DSSENZAREP D.S.S.R. */  SPACEWID,    /* 21 SPACE */   INSTWID,    /* 22 MCHOP */   INSTWID,    /* 23 INSTR */   LVLWID,     /* 24 LEVEL */   TEMPWID,    /* 25 NUTEMPO */   TEMPWID,    /* 26 GENVOL */   CLOCKWID,   /* 27 CLOCKON */   CRESCWID,   /* 28 */   ACCELWID,   /* 29 */  (INSTWID-1), /* 30 Immediate Partwise Event */  (INSTWID-1), /* 31 Immediate System (Fx) Event */   INSTWID,    /* 32 Table Partwise Event */   INSTWID,    /* 33 Table System Event */   1,          /* 34 ACCENT, Layoff *//* MARKWID,    /* 63 IMARK  Menu only */};/* Print format strings for everyone talking thru the pipe */char apct7[] = "%c%c%c%c%c%c%c";char apctn6[] = "%c%c%c%c%c%c\n";direct char     *pct2 = apct7+10,     *pct3 = apct7+8,     *pct4 = apct7+6,     *pct5 = apct7+4,     *pct6 = apct7+2,     *pct7 = apct7;direct char     *pctn1 = apctn6+10,     *pctn2 = apctn6+8,     *pctn3 = apctn6+6,     *pctn4 = apctn6+4,     *pctn5 = apctn6+2,     *pctn6 = apctn6;/* Table to convert dur & durmod codes to raw durations.*  Raw durations of Breve: straight, dotted, double-dot, triplet.*/short durtable[4] = {384, 576, 672, 256};/* Arrays for staves.c *//* None of these arrays is R/O: */STAFF staves[NSTAVES];PART  parts[NPARTS + 1]; /* Parts are ORG 1, not 0! *//* Botnotes are White keys above 16' C==01.  Mid C ==22. *//* This IS Read-Only! *//* Strings are for Prompts */CLEF  clefs[] = {    {"Treble",   24 },    { "Bass",    12 },    {"GuiTenor", 17},  /* Treble but octave lower */    {"Dbl Bass",  5},  /* Bass but octave lower */    {"Percussn",  0},    {"Alto",     18},  /* Violist's penance */    {"Tenor",    16},  /* Trombonist's nitemare */    {"",          0}   /* Null name ends array */};/* BMEN.C's MIDI Volume Levels Menu & Manipulater */char *vols = "ppp\0 pp\0  p\0 mp\0 mf\0  f\0 ff\0fff";/* Percussion Menu */ubyte  percmids[17];char percsynth[24];char *percnams[17] = {    /* Shown here upside-down */ "Low  Bongo", "High Bongo", "HandClap", "Cow Bell", "WoodBlock", "Bass Drum", "Low  Tom", "Mid  Tom", "High Tom", "Snare", "Rim Shot", "Ride", "HiHat Clsd", "HiHat Open", "Crash", "Tri Muted", "Tri Open"};/* eof ~VM640/BGLOB.C  (no DPs) */