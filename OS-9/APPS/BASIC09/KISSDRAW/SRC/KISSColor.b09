PROCEDURE KISSColor(* Program to select and change colorsTYPE rodent=Vld,Act,ToTm:BYTE; X1:INTEGER; TTTo:BYTE; TSSt:INTEGER
; CBSA,CBSB,CCtA,CCtB,TTSA,TTSB,TLSA,TLSB:BYTE; X2,BDX,BDY:INTEGER
; Stat,Res:BYTE; AcX,AcY,WRX,WRY:INTEGERTYPE stats=event,InWindow,InToolBox,InMenuBar,line,box,circle,ellipse
,bar,arc,fill,text,freehand,patterns,horzlines,vertlines,slantright
,slantleft,dots,color:BOOLEANTYPE cursor=NoCur,arrow,pencil,cross,hourglass,NoIcon,TextBar,Scross
,Icon,IconBuff,Coulor:BYTETYPE packet=mouse:rodent; status:stats; pointer:cursorTYPE registers=cc,a,b,dp:BYTE; x,y,u:INTEGERDIM RegisterSet:registersDIM callcode:BYTEPARAM ButtonEvent:packetDIM Currcolor,Covalue:INTEGERRegisterSet.a:=0RegisterSet.b:=$89RegisterSet.x:=ADDR(ButtonEvent.mouse)RegisterSet.y:=1callcode:=$8DCurrcolor:=ButtonEvent.pointer.CoulorIF ButtonEvent.mouse.AcX<76 THEN REPEAT RUN syscall(callcode,RegisterSet)Covalue:=INT(ButtonEvent.mouse.AcX/10)RUN gfx2("Palette",Currcolor,Covalue)UNTIL ButtonEvent.mouse.CBSA=0END ENDIF IF ButtonEvent.mouse.AcX<115 THEN ButtonEvent.pointer.Coulor:=0RUN gfx2("Color",0)RUN gfx2("Bar",0,180,76,191)END ENDIF IF ButtonEvent.mouse.AcX<150 THEN ButtonEvent.pointer.Coulor:=1RUN gfx2("Color",1)RUN gfx2("Bar",0,180,76,191)END ENDIF IF ButtonEvent.mouse.AcX<185 THEN ButtonEvent.pointer.Coulor:=2RUN gfx2("Color",2)RUN gfx2("Bar",0,180,76,191)END ENDIF IF ButtonEvent.mouse.AcX<220 THEN ButtonEvent.pointer.Coulor:=3RUN gfx2("Color",3)RUN gfx2("Bar",0,180,76,191)END ENDIF END END 