PROCEDURE KISSDraw4(* Drawing program that lets you select a tool by clicking(* on an ICONTYPE rodent=Vld,Act,ToTm:BYTE; X1:INTEGER; TTTo:BYTE; TSSt:INTEGER
; CBSA,CBSB,CCtA,CCtB,TTSA,TTSB,TLSA,TLSB:BYTE; X2,BDX,BDY:INTEGER
; Stat,Res:BYTE; AcX,AcY,WRX,WRY:INTEGERTYPE stats=event,InWindow,InToolBox,InMenuBar,line,box,circle,ellipse
,bar,arc,fill,text,freehand,patterns,horzlines,vertlines,slantright
,slantleft,dots:BOOLEANTYPE cursor=NoCur,arrow,pencil,cross,hourglass,NoIcon,TextBar,Scross
,Icon,IconBuff:BYTETYPE packet=mouse:rodent; status:stats; pointer:cursorDIM ButtonEvent:packetDIM LastClicks:BYTEDIM char:STRING[1]char:=""LastClicks:=0ButtonEvent.status.event:=FALSEButtonEvent.status.line:=FALSEButtonEvent.status.box:=FALSEButtonEvent.status.circle:=FALSEButtonEvent.status.ellipse:=FALSEButtonEvent.status.bar:=FALSEButtonEvent.status.arc:=FALSEButtonEvent.status.fill:=FALSEButtonEvent.status.text:=FALSEButtonEvent.status.freehand:=FALSEButtonEvent.pointer.NoCur=0ButtonEvent.pointer.arrow=1ButtonEvent.pointer.pencil=2ButtonEvent.pointer.cross=3ButtonEvent.pointer.hourglass=4ButtonEvent.pointer.NoIcon=5ButtonEvent.pointer.TextBar=6ButtonEvent.pointer.Scross=7ButtonEvent.pointer.IconBuff=202(* First we need to start with a clear screen(* and draw the menuRUN gfx2("Clear")RUN KISSdMenu(* We must bring the high resolution mouse on line(* and find out where it is pointingRUN setupmouseRUN gfx2("GCSet",ButtonEvent.pointer.IconBuff,ButtonEvent.pointer.arrow
)LOOP  \REM Main Event LoopEXITIF char<>"" THEN ENDEXIT RUN inkey(char)RUN getKISSmouse(ButtonEvent)(* Has there been an event (* Is Button DownIF ButtonEvent.status.event THEN IF ButtonEvent.status.InToolBox THEN RUN WhichTool(ButtonEvent)RUN gfx2("GCSet",ButtonEvent.pointer.IconBuff,ButtonEvent.pointer.pencil
)RUN DoEvent(ButtonEvent)RUN gfx2("GCSet",ButtonEvent.pointer.IconBuff,ButtonEvent.pointer.arrow
)ENDIF IF ButtonEvent.status.InMenuBar THEN RUN HandleMenu(ButtonEvent)ENDIF ENDIF ENDLOOP (* Turn Graphics Cursor off before leaving programRUN gfx2("GCSet",ButtonEvent.pointer.NoCur,ButtonEvent.pointer.NoCur
)END 