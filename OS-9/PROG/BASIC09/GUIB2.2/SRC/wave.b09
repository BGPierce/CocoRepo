PROCEDURE waveREM *    REM *    Rabbits and WolvesREM *    In WAVE display.REM *REM *    This program requires a copy of GUIB v2.2REM *    and TMODE to be installed into the user's CMDS directory.REM *    GFX2, INKEY, and SYSCALL must be merged with RUNB.REM *REM *TYPE registers=cc,a,b,dp:BYTE; x,y,u:INTEGERDIM regs:registersDIM key:STRING[1]DIM status:STRING[8]DIM count,wwidth,wheight,xsize,ysize,xpos,xs,ys:INTEGERDIM scrname:STRING[32]DIM rabbits,wolves:REALSHELL "tmode -echo"RUN guib("VERSION",status,2,2,xs,ys)IF status="BAD" THEN PRINT CHR$(12); PRINT "This program requires GuiB 2.2 to run!"PRINT INPUT "Press [ENTER]",keyEND ENDIF RUN guib("SCREEN","SIZE",xsize,ysize)wwidth=xsize*8wheight=ysize*8xs=wwidth-20ys=wheight-52ON ERROR GOTO 100regs.a=$01regs.b=$0Eregs.x=ADDR(scrname)RUN syscall($8D,regs)RUN gfx2("palette",4,12)RUN gfx2("palette",6,63)RUN gfx2("palette",7,18)RUN gfx2("palette",12,56)RUN gfx2("palette",13,7)RUN gfx2("palette",14,63)RUN gfx2("palette",15,0)RUN gfx2("scalesw","off")RUN gfx2("color",15,12)RUN gfx2("clear")RUN guib("WINDOW","RAISED",0,0,wwidth,wheight)RUN guib("WINDOW","DROPPED",8,24,wwidth-16,wheight-48)RUN guib("SQUARE","POPPED",7,8,8,8)RUN gfx2("color",7)RUN gfx2("fill",9,9)RUN gfx2("curxy",2,1)RUN gfx2("color",15)PRINT "Rabbits   Wolves"; RUN guib("SQUARE","POPPED",87,8,8,8)RUN gfx2("color",6)RUN gfx2("fill",89,9)RUN guib("BUTTON","ENTER",xsize-6,ysize-2,0,5)RUN gfx2("curxy",1,ysize-2)RUN gfx2("color",15)PRINT "Win:/"; count=1WHILE ASC(MID$(scrname,count,1))<128 DO PRINT MID$(scrname,count,1); count=count+1ENDWHILE PRINT CHR$(ASC(MID$(scrname,count,1))-128); RUN guib("SQUARE","PUSHED",39,wheight-18,(count+2)*8+2,12)RUN gfx2("color",4)RUN guib("SQUARE","FILLED",10,26,xs,ys)xpos=10c=0rabbits=10000wolves=1000REPEAT rabbits=rabbits*(1.01-.00001*wolves)wolves=wolves*(.995+.0000001*rabbits)n1=rabbits*ys/150000.n2=wolves*ys/7000c=c+1IF c=25 THEN RUN gfx2("color",4)RUN gfx2("line",xpos,ys+25,xpos,26)RUN gfx2("color",7)RUN gfx2("line",xpos,ys+25,xpos,FIX(ys+25-n1))xpos=xpos+1RUN gfx2("color",4)RUN gfx2("line",xpos,ys+25,xpos,26)RUN gfx2("color",6)RUN gfx2("line",xpos,ys+25,xpos,FIX(ys+25-n2))xpos=xpos+1IF xpos>=xs+10 THEN xpos=10ENDIF c=0ENDIF RUN inkey(key)UNTIL key=CHR$(13)100 ON ERROR SHELL "tmode echo"RUN guib("BUTTON","ENTER",xsize-6,ysize-2,1,5)END 